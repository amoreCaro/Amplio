<section class="strategy section <%= additionalClass %>" data-aos="fade-up" data-aos-duration="2000">
    <div class="strategy__container container h-content">
        <div class="strategy__text <%= headingClass %>">
            <% if (title != "") { %>
                <h2><%= title %></h2>
            <% } %>
            <div class="strategy__subtitle">
                <% if (Array.isArray(subtitle)) { %>
                    <% subtitle.forEach(function(subtitleItem) { %>
                        <% if (typeof subtitleItem === 'object' && subtitleItem.coloredBullet) { %>
                            <!-- Handle colored bullet list -->
                            <ul class="colored-bullet">
                                <% subtitleItem.paragraph.forEach(function(item) { %>
                                    <li><%= item %></li>
                                <% }); %>
                            </ul>
                        <% } else { %>
                            <!-- Handle regular subtitle (non-colored bullet) -->
                            <p><%= subtitleItem %></p>
                        <% } %>
                    <% }); %>
                <% } else if (subtitle) { %>
                    <% if (typeof subtitle === 'object' && subtitle.coloredBullet) { %>
                        <!-- Handle colored bullet list for single object -->
                        <ul class="colored-bullet">
                            <% subtitle.paragraph.forEach(function(item) { %>
                                <li><%= item %></li>
                            <% }); %>
                        </ul>
                    <% } else { %>
                        <!-- Handle regular subtitle (non-colored bullet) -->
                        <p><%= subtitle %></p>
                    <% } %>
                <% } %>
            </div>
        </div>

        <div class="strategy__grid">
            <% strategy.forEach(function(item, index) { %>
                <div class="strategy__grid-item">
                    <h3><%= item.title %></h3>
        
                    <!-- Handle item.text (Array or Single String) -->
                    <% if (Array.isArray(item.text)) { %>
                        <% item.text.forEach(function(paragraph) { %>
                            <% if (Array.isArray(paragraph.paragraph)) { %>  <!-- Handle paragraph as array -->
                                <% if (paragraph.coloredBullet) { %>
                                    <!-- Handle colored bullet list -->
                                    <ul class="colored-bullet">
                                        <% paragraph.paragraph.forEach(function(item) { %>
                                            <li><%= item %></li>
                                        <% }); %>
                                    </ul>
                                <% } else { %>
                                    <!-- Handle regular bullet list -->
                                    <ul>
                                        <% paragraph.paragraph.forEach(function(item) { %>
                                            <li><%= item %></li>
                                        <% }); %>
                                    </ul>
                                <% } %>
                            <% } else { %>
                                <!-- Handle paragraph as string -->
                                <p><%= paragraph %></p>
                            <% } %>
                        <% }); %>
                    <% } else if (item.text) { %>
                        <p><%= item.text %></p>
                    <% } %>
        
                    <!-- Handle item.subtitle (with colored bullet or regular text) -->
                    <% if (item.subtitle) { %>
                        <% if (typeof item.subtitle === 'object' && item.subtitle.coloredBullet) { %>
                            <!-- Handle colored bullet list for subtitle -->
                            <ul class="colored-bullet">
                                <% item.subtitle.paragraph.forEach(function(paragraphItem) { %>
                                    <li><%= paragraphItem %></li>
                                <% }); %>
                            </ul>
                        <% } else { %>
                            <!-- Handle regular subtitle -->
                            <p><%= item.subtitle %></p>
                        <% } %>
                    <% } %>
        
                    <!-- Handle item.paragraph (Regular bullet list or array of items) -->
                    <% if (Array.isArray(item.paragraph)) { %>
                        <ul>
                            <% item.paragraph.forEach(function(paragraphItem) { %>
                                <li><%= paragraphItem %></li>
                            <% }); %>
                        </ul>
                    <% } %>
                </div>
            <% }); %>
        </div>
        
    </div>
</section>
